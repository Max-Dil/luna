<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Timer</title>
    <style type="text/css">
        .title {
            font-size: 18pt;
            font-family: Arial;
            font-weight: normal;
            text-align: center;
            color: #000000;
        }
        .content {
            vertical-align: top;
            text-align: center;
            background: #fffff0;
            padding: 12px;
            border-radius: 10px;
        }
        .explain {
            vertical-align: middle;
            text-align: center;
            background: #f0f0c0;
            padding: 12px;
            border-radius: 10px;
            color: #404000;
        }
    </style>
</head>
<body>
    <div class="title">Timer</div>
    <div class="content">
        <input type="button" id="offset" value="Reset counter" onclick="reset();">
        <div id="number"></div>
        <div id="wsdi_statustd" class="explain">
            <div id="wsdi_status">Not initialized</div>
        </div>
    </div>

    <script>
        var socket = new WebSocket('ws://localhost:12345');

        socket.onopen = function() {
            document.getElementById("wsdi_statustd").style.backgroundColor = "#40ff40";
            document.getElementById("wsdi_status").textContent = " websocket connection opened ";
        };

        socket.onmessage = function(msg) {
            document.getElementById("number").textContent = msg.data;
        };

        socket.onclose = function() {
            document.getElementById("wsdi_statustd").style.backgroundColor = "#ff4040";
            document.getElementById("wsdi_status").textContent = " websocket connection CLOSED ";
        };

        function reset() {
            socket.send("reset\n");
        }
    </script>
</body>
</html>